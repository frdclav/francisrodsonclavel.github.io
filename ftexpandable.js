// standard_display: 
try{var tm_log=function(){for(a=0;a<arguments.length;a++){console.log("TubeMogul: "+arguments[a])}};var a,img,trusteAdded=false,viewabilityDisabled=false,iasPixelUrl="",moatPixelUrl="";if(typeof(TM_array)=="undefined"){var TM_array=[]}var uIdx=Math.random()+Date.now().valueOf();TM_array[uIdx]={Args:{}};TM_array[uIdx].Args.data=[{"preview":true,"pt":"","session":{"host":"rtb-cache01.tubemogul.com","sessId":"preview"},"bi":"","closeButtonDelay":0,"adPluginURL":"/flash/tunit-v1.55.1.swf","adParts":[{"sequence":0,"assets":[{"clickURL":null,"description":null,"encodingRate":null,"mimeType":"text/html","trackAsAutoplay":null,"type":"display_code","align":null,"showDuration":null,"layer":null,"timer":null,"parentAssetID":null,"id":10363718,"height":null,"loops":null,"inplayCall":null,"videoDuration":null,"delay":null,"timerPos":null,"width":null,"preserveAspectRatio":null,"x":null,"y":null,"detail":"<noscript>\n<a href=\"http://servedby.flashtalking.com/click/1/65796;2421656;0;209;0/?ft_width=320&ft_height=50&url=14158209\" target=\"_blank\">\n<img border=\"0\" src=\"http://servedby.flashtalking.com/imp/1/65796;2421656;205;gif;TubeMogul;120x600ExpSkyStrogbowcloudyapple/?\"></a>\n</noscript>\n<script language=\"Javascript1.1\" type=\"text/javascript\">\nvar ftClick = \"\";\nvar ftExpTrack_2421656 = \"\";\nvar ftX = \"\";\nvar ftY = \"\";\nvar ftZ = \"\";\nvar ftOBA = 1;\nvar ftContent = \"\";\nvar ftCustom = \"\";\nvar ftSection = \" ${TM_SITE_ID_NUM}\";\nvar ftID = function(){for(var e=[\"${USER_ID}\"],a=e.length,r=\"\";a--;)if(e[a]&&!RegExp(\"[^a-z0-9q-]\".replace(/q/g,decodeURIComponent(\"%5\"+\"C\")),\"i\").test(e[a])){r=e[a];break}return r}();;\nvar ft320x50_OOBclickTrack = \"\";\nvar ftRandom = Math.random()*1000000;\nvar ftBuildTag1 = \"<scr\";\nvar ftBuildTag2 = \"</\";\nvar ftClick_2421656 = ftClick;\nif(typeof(ft_referrer)==\"undefined\"){var ft_referrer=(function(){var r=\"\";if(window==top){r=window.location.href;}else{try{r=window.parent.location.href;}catch(e){}r=(r)?r:document.referrer;}while(encodeURIComponent(r).length>1000){r=r.substring(0,r.length-1);}return r;}());}\nvar ftDomain = (window==top)?\"\":(function(){var d=document.referrer,h=(d)?d.match(\"(?::q/q/)+([qw-]+(q.[qw-]+)+)(q/)?\".replace(/q/g,decodeURIComponent(\"%\"+\"5C\")))[1]:\"\";return (h&&h!=location.host)?\"&ft_ifb=1&ft_domain=\"+encodeURIComponent(h):\"\";}());\nvar ftTag = ftBuildTag1 + 'ipt language=\"javascript1.1\" type=\"text/javascript\" ';\nftTag += 'src=\"http://servedby.flashtalking.com/imp/1/65796;2421656;201;js;TubeMogul;120x600ExpSkyStrogbowcloudyapple/?ftx='+ftX+'&fty='+ftY+'&ftadz='+ftZ+'&ftscw='+ftContent+'&ft_custom='+ftCustom+'&ft_section='+ftSection+'&ft_id='+ftID+'&ftOBA='+ftOBA+ftDomain+'&ft_agentEnv='+(window.mraid||window.ormma?'1':'0')+'&ft_referrer='+encodeURIComponent(ft_referrer)+'&cachebuster='+ftRandom+'\" id=\"ftscript_320x50\" name=\"ftscript_320x50\"';\nftTag += '>' + ftBuildTag2 + 'script>';\ndocument.write(ftTag);\n</script>","autoPlay":null,"showControls":null,"resourceType":"static"}],"width":"100%","action":"null","trigger":null,"type":"display","height":"100%"}],"statsBaseURL":"stats.tubemogul.com/stats/1","displayType":"inbanner_3rd_party","adId":"OcVTtwKxk4qCbrfxcX9j","pixels":[],"feedId":"OcVTtwKxk4qCbrfxcX9j","adClass":"standard_display","price":"","paId":"OcVTtwKxk4qCbrfxcX9j","width":320,"assetBaseURL":"//playtime.tubemogul.com","wmode":"window","height":50}];var tm_auction_id=TM_array[uIdx].Args.data[0].session.sessId;TM_array[tm_auction_id]=TM_array[uIdx];delete TM_array[uIdx];TM_array[tm_auction_id].Feed=TM_array[tm_auction_id].Args.data[0];var iFrameAssets=[];iFrameApiHelpers={receiveMessage:function(d){console.log(" --> received message "+d.data.type);if(d.data.type=="handshake"){for(var c in iFrameAssets){if(iFrameAssets[c].uniqueId==d.data.uniqueId){iFrameAssets[c].messageReceiver=d.source;iFrameApiHelpers.handshake(c);iFrameApiHelpers.startIFrame(c)}}}else{if(d.data.type=="ct"){TM_array[tm_auction_id].Util.firePixels("ClickThrough")}else{var b=iFrameApiHelpers.getSendingIFrame(d.data.uniqueId,d.source);if(!!b){switch(d.data.type){case"reportToWinplay":iFrameApiHelpers.handleReportToWinplay(d.data);break;default:console.log("Unrecognized message type: "+message.type)}}}}},handshake:function(b){console.log("Parent returning handshake with "+iFrameAssets[b].iFrameObj.src);console.log("Sending clickThrough type: "+iFrameAssets[b].winplayCall+" clickthroughUrl: "+TM_array[tm_auction_id].Embed.getDisplayCtUrl());var c={type:"handshake",version:"StandardDisplay_v1.0",uniqueId:iFrameAssets[b].uniqueId,winplayCall:iFrameAssets[b].winplayCall,clickthroughUrl:TM_array[tm_auction_id].Embed.getDisplayCtUrl(),videos:[],contextualData:{zip:"18504"}};iFrameAssets[b].messageReceiver.postMessage(c,iFrameAssets[b].iFrameObj.src)},startIFrame:function(b){if(!iFrameAssets[b].started){iFrameAssets[b].started=true;var c={type:"start",uniqueId:iFrameAssets[b].uniqueId};iFrameAssets[b].messageReceiver.postMessage(c,iFrameAssets[b].iFrameObj.src)}},handleReportToWinplay:function(d){TM_array[tm_auction_id].Util.firePixels(d.winplayType);var f={sId:0,sessId:TM_array[tm_auction_id].Feed.session.sessId,paId:TM_array[tm_auction_id].Feed.paId,rt:"HTML5",w:TM_array[tm_auction_id].Feed.width,h:TM_array[tm_auction_id].Feed.height,redir:d.clickthroughUrl},c=d.winplayType;var b=TM_array[tm_auction_id].Embed.buildStatsUrl(c,f);if(TM_array[tm_auction_id].Util.isNull(d.clickthroughUrl)){TM_array[tm_auction_id].Util.loadImage(b)}else{TM_array[tm_auction_id].Util.openClickThrough(b)}},getSendingIFrame:function(f,b){var c;for(var d in iFrameAssets){if(iFrameAssets[d].uniqueId==f&&iFrameAssets[d].messageReceiver==b){c=iFrameAssets[d];break}}return c}};TM_array[tm_auction_id].Util=function(TM){var htmlEncode=function(str){return str.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},isNull=function(obj){return typeof(obj)=="undefined"||!obj||obj==""},setDefault=function(val,def){return(isNull(val)?def:val)},isEmpty=function(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false}}return true},flashDetect=function(){var osf,osfd,i,axo=1,v=0,nv=navigator;if(nv.plugins&&nv.mimeTypes.length){osf=nv.plugins["Shockwave Flash"];if(osf&&osf.description){osfd=osf.description;v=parseInt(osfd.substring(osfd.indexOf(".")-2))}}else{try{for(i=5;axo!=null;i++){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);v=i}}catch(e){}}return v},initializeWinplay=function(tm_auction_id){TM_Obj=TM_array[tm_auction_id];var promotedVideoJson,H,i;for(H=0;H<TM_Obj.Feed.adParts.length;H++){if(TM_Obj.Feed.adParts[H].type=="player"){playerAdPartSequence=H;for(i=0;i<TM_Obj.Feed.adParts[H].assets.length;i++){if(TM_Obj.Feed.adParts[H].assets[i]["type"]=="promoted_video"){promotedVideoJson=TM_Obj.Feed.adParts[H].assets[i];break}}}}TM_Obj.winplayInfo={};TM_Obj.winplayInfo.paId=TM_Obj.Feed.paId;TM_Obj.winplayInfo.psId=TM_Obj.Feed.psId;TM_Obj.winplayInfo.bi=TM_Obj.Feed.bi;TM_Obj.winplayInfo.pt=TM_Obj.Feed.pt||"view";TM_Obj.winplayInfo.price=TM_Obj.Feed.price;TM_Obj.winplayInfo.adEngagementViewQP=TM_Obj.Feed.adEngViewQP;TM_Obj.winplayInfo.adEngagementClickThruQP=TM_Obj.Feed.adEngClickThruQP;TM_Obj.winplayInfo.statsBaseURL=TM_Obj.Feed.statsBaseURL;TM_Obj.winplayInfo.autoplay=(!!promotedVideoJson&&promotedVideoJson.autoPlay);if(!!TM_Obj.Feed.tagParams){TM_Obj.winplayInfo.clickThroughUrlPrefix=TM_Obj.Feed.tagParams.clickthroughurlprefix}TM_Obj.winplayInfo.burl=TM_Obj.Util.getBurl();TM_Obj.winplayInfo.sessId=TM_Obj.winplayInfo.playerInstanceId?TM_Obj.winplayInfo.playerInstanceId:"preview";TM_Obj.winplayInfo.pixels=TM_Obj.Feed.pixels;TM_Obj.adTracker=TM_Obj.PlaytimeAnalytics.newAdTracker(TM_Obj.winplayInfo);TM_Obj.currentVideoTracker=TM_Obj.adTracker.newVideoTracker({pvId:TM_Obj.winplayInfo.pvId,autoplay:TM_Obj.winplayInfo.autoplay,duration:15,volume:0.5,playheadTime:0})},random=function(){return parseInt(Math.random()*99999999)},loadImage=function(src,onload){var img=new Image();if(!!onload){img.onload=onload}img.src=src;return img},loadScript=function(src,callback){var js=document.createElement("script");js.type="text/javascript";if(!!callback){js.onload=callback;js.onerror=callback}js.src=src;document.getElementsByTagName("head")[0].appendChild(js)},loadCSS=function(src,callback){var css=document.createElement("link");css.rel="text/css";css.src=src;if(!!callback){css.onload=callback}document.getElementsByTagName("head")[0].appendChild(css)},appendHTML=function(html){var d=document.createElement("div");d.innerHTML=html;document.body.appendChild(d)},writeHTML=function(divid,str){var wroteDiv=false,i,type=TM.Feed.displayType,adcontent,condition="tubemogul.",scripts=document.getElementsByTagName("script");if(type!="mraid_3rd_party"&&type!="inbanner_3rd_party"){if(
/*@cc_on!@*/
true){for(i=0;i<scripts.length;i++){if(scripts[i].src.indexOf(condition)>0){adcontent=document.createElement("div");adcontent.id=divid;adcontent.innerHTML=str;if(scripts[i].parentNode.tagName!="HEAD"){scripts[i].parentNode.insertBefore(adcontent,scripts[i]);wroteDiv=true;break}}}}}if(!wroteDiv){adcontent=document.createElement("div");adcontent.id=divid;adcontent.innerHTML=str;adcontent.style.width=TM.Feed.width+"px";adcontent.style.height=TM.Feed.height+"px";document.body.appendChild(adcontent);TM.Util.executeScripts(adcontent.getElementsByTagName("script"));document.body.style.margin="0px"}},findInArray=function(list,field,value){if(!list||!field){return}for(var i=0;i<list.length;i++){if(list[i][field]==value){return list[i]}}return null},openClickThrough=function(clickThroughUrl){firePixels("ClickThrough");window.open(clickThroughUrl)},firePixels=function(trigger){for(var pix=TM.Feed.pixels.length-1;pix>=0;pix--){if(!TM.Feed.pixels[pix]||TM.Feed.pixels[pix].trigger.toLowerCase()!=trigger.toLowerCase()){continue}if(TM.Util.firePixel(trigger,TM.Feed.pixels[pix].type,TM.Feed.pixels[pix].detail,TM.Feed.pixels[pix].id)){delete TM.Feed.pixels[pix]}}if(trigger=="Impression"&&String(TM.Feed.vtrusted).toLowerCase()=="t"){if(TM.Feed.adClass=="display_app_inter"){TM.Util.fireVimpAfter(1000)}else{if(TM.Feed.displayType=="mraid_3rd_party"&&TM.Feed.adClass=="mobile_app_inter"){TM.Util.fireVimpAfter(2000)}}}},firePixel=function(trigger,type,src,id){var success=false,now,delta;src=src.replace("[[random]]",TM.Util.random());src=src.replace("[[timestamp]]",(new Date()).getTime());src=src.replace("[timestamp]",(new Date()).getTime());if(trigger.indexOf("TM_AUDIT")==0){if(type.toLowerCase().indexOf("mobile")!=0){success=true;trigger=null}else{now=Number(new Date());delta=now-Number(TM.lc_params.zerotime);src+=src.indexOf("?")>0?"&":"?";src+=trigger.toLowerCase().substring(trigger.lastIndexOf("_")+1,trigger.length)+"_delta="+delta.toString();src+="&ad_type="+TM.Util.auditAdClass;TM.lc_params.zerotime=now}}switch(type){case"Flash":case"Image":TM.Util.loadImage(src);success=true;break;case"HTML":TM.Util.appendHTML(src);success=true;break;case"Javascript":TM.Util.loadScript(src);success=true;break;default:break}logPixel(id,trigger,src,type);return success},updateProtocol=function(){TM.lc_params.proto=document.location.protocol;if(TM.lc_params.proto!="https:"){TM.lc_params.proto="http:"}if(TM.lc_params.proto=="https:"){setProtoInObject(TM.Feed)}},setProtoInObject=function(jsonObj){var pix,assetIdx,adPartIdx;if(jsonObj.pixels){for(pix=jsonObj.pixels.length-1;pix>=0;pix--){try{if(jsonObj.pixels[pix].id=="TM_PI5"){jsonObj.pixels[pix].detail=jsonObj.pixels[pix].detail.replace("http://b","https://sb")}else{if(jsonObj.pixels[pix].id.toString().substr(0,3)=="TM_"){jsonObj.pixels[pix].detail=jsonObj.pixels[pix].detail.replace("http://","https://")}}}catch(e){}}}if(jsonObj.assets){for(assetIdx=0;assetIdx<jsonObj.assets.length;assetIdx++){jsonObj.assets[assetIdx].detail=jsonObj.assets[assetIdx].detail.replace("http://","https://");setProtoInObject(jsonObj.assets[assetIdx])}}else{if(jsonObj.adParts){for(adPartIdx=0;adPartIdx<jsonObj.adParts.length;adPartIdx++){setProtoInObject(jsonObj.adParts[adPartIdx])}}}},c=5,logPixel=function(id,trigger,src,type){try{if(!TM.Util.isNull(id)&&trigger.indexOf("TM_AUDIT")!=0&&trigger.indexOf("TM_PI")!=0){if(pixel!==undefined){pixel.send(id,src,trigger,type)}if(typeof(PromoAdmin)!="undefined"){PromoAdmin.MediaPlacement.Test.firePixel(trigger.toLowerCase(),src)}}}catch(e){}if(id=="TM_PI5"){setTimeout(function(){if(--c>0){firePixel(trigger,type,src,id)}},parseInt(Math.random()*5+5)*1000)}},isThisYouTube=function(adParts){var n,i;for(n=0;n<adParts.length;n++){for(i=0;i<adParts[n].assets.length;i++){if(adParts[n].assets[i].mimeType.toLowerCase()=="youtube"){return true}}}return false},getBurl=function(){var burl="Unknown",burlHalves;try{burl=window.location.href.toString();if(burl.indexOf("facebook.com/")>-1){burlHalves=burl.split("?");burl=burlHalves[0]+"---REDACTED_FOR_PRIVACY---"}}catch(error){}return burl},getAssetInAdPart=function(adPart,assetType){var i;for(i=0;i<adPart.assets.length;i++){if(adPart.assets[i]["type"]==assetType){return(adPart.assets[i])}}return null},getAssetInAdPartByType=function(adPartType,assetType){var i,asset;for(i=0;i<TM.Feed.adParts.length;i++){if(TM.Feed.adParts[i].type==adPartType){if(asset=getAssetInAdPart(TM.Feed.adParts[i],assetType)){return asset}}}return null},mimeTypeClass=function(assetObj){if(!!assetObj.mimeType){return assetObj.mimeType.split("/")[0]}return null},assetsIncludeFlash=function(){var H,i,hasFlash=false;for(H=0;H<TM.Feed.adParts.length&&hasFlash==false;H++){for(i=0;i<TM.Feed.adParts[H].assets.length&&hasFlash==false;i++){hasFlash=((!!TM.Feed.adParts[H].assets[i]["detail"]&&TM.Feed.adParts[H].assets[i]["detail"].indexOf(".swf")>-1)||TM.Feed.adParts[H].assets[i]["mimeType"]=="application/x-shockwave-flash")}}return hasFlash},receiveMessage=function(func){var eventMethod=window.addEventListener?"addEventListener":"attachEvent";var windowAddListener=window[eventMethod];var messageEvent=(eventMethod=="attachEvent")?"onmessage":"message";windowAddListener(messageEvent,func)},auditAdClass=(TM.Feed.adClass.toLowerCase()=="bap")?"bap":"ctp"+(isThisYouTube(TM.Feed.adParts))?"-yt-":"-tm-"+(TM.Feed.displayType.toLowerCase().indexOf("flash")>0)?"flash":"html5",fixProto=function(url){return url.replace(/(http:|https:|)\/\//,TM.lc_params.proto+"//")},executeScripts=function(scripts,success,error){var i,scripts=Array.prototype.slice.call(scripts),head,remaining,node,handler,evalScript,callbacks;if(!scripts.length){return}callbacks={success:success,error:error||success};remaining=scripts.length;head=document.getElementsByTagName("head")[0]||document.documentElement;node=function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()};handler=function(type){remaining--;if(remaining===0&&typeof callbacks[type]==="function"){callbacks[type]()}};evalScript=function(elem){var script=document.createElement("script"),data=(elem.text||elem.textContent||elem.innerHTML||"");if(elem.src){script.src=elem.src}else{try{script.appendChild(document.createTextNode(data))}catch(e){script.text=data}}head.appendChild(script);if(elem.src){script.onload=handler("success");script.onerror=handler("error")}else{handler("success")}head.removeChild(script)};for(i=0;scripts[i];i++){var script=scripts[i];if(script.parentNode){script.parentNode.removeChild(script)}evalScript(scripts[i])}},allowDocumentWrite=function(){var feed=TM.Feed,isAndroid=navigator.userAgent.match(/Android/i),inMobiMraid=window.imraid,is3rdParty=(feed.displayType in {inbanner_3rd_party:1,mraid_3rd_party:1}),androidSupportedClass=(feed.adClass in {mobile_app_inter:1,tablet_app_inter:1,display_app_inter:1});return((is3rdParty&&!inMobiMraid)||(isAndroid&&androidSupportedClass))},trusteIconExists=function(container){container=container||document.body;return !!container.querySelector("span#te-clearads-js-truste01cont1")},convertStringToHTML=function(str){var elem=document.createElement("div");elem.innerHTML=str;return elem.firstElementChild},loadMraidTruste=function(container,mraidContainer){var truste,html=TM.Partners.getTrusteHtml(),container=container||document.body;if(!trusteIconExists(container)&&html){truste=convertStringToHTML(html);if(mraidContainer){container.insertBefore(truste,mraidContainer)}else{document.body.appendChild(truste)}executeScripts(truste.getElementsByTagName("script"),function(){console.log("loadMraidTruste:: Ad choices loaded on ad container ("+TM.Feed.width+"x"+TM.Feed.height+")")})}},fireVimpAfter=function(delay){this.mraidViewabilityTimeout=setTimeout(function(){var params={vinst:"t",vwbl:"t",vpct:"100",awin:"t"};TM.Embed.addQParams(params);var url=TM.Embed.buildStatsUrl("vimp",params);TM.Util.loadImage(url)},delay);mraid.addEventListener("viewableChange",function(){clearTimeout(this.mraidViewabilityTimeout)}.bind(this))},detectMobile=function(){var userAgent=navigator.userAgent,isIOS=userAgent.match(/iPhone|iPad|iPod/i),isAndroid=userAgent.match(/Android/i);viewabilityDisabled=(isIOS||isAndroid)},initMraid3pTruste=function(){var mraidContainer=TM.mraid.container.domRef;if(mraidContainer&&TM.Feed.displayType==="mraid_3rd_party"){container=mraidContainer.parentNode;loadMraidTruste(container,mraidContainer)}};return{htmlEncode:htmlEncode,fixProto:fixProto,isNull:isNull,setDefault:setDefault,isEmpty:isEmpty,flashDetect:flashDetect,initializeWinplay:initializeWinplay,random:random,detectMobile:detectMobile,loadImage:loadImage,loadScript:loadScript,loadCSS:loadCSS,appendHTML:appendHTML,writeHTML:writeHTML,findInArray:findInArray,openClickThrough:openClickThrough,firePixels:firePixels,firePixel:firePixel,logPixel:logPixel,fireVimpAfter:fireVimpAfter,updateProtocol:updateProtocol,getBurl:getBurl,assetsIncludeFlash:assetsIncludeFlash,getAssetInAdPart:getAssetInAdPart,getAssetInAdPartByType:getAssetInAdPartByType,mimeTypeClass:mimeTypeClass,receiveMessage:receiveMessage,executeScripts:executeScripts,allowDocumentWrite:allowDocumentWrite,loadMraidTruste:loadMraidTruste,initMraid3pTruste:initMraid3pTruste}}(TM_array[tm_auction_id]);TM_array[tm_auction_id].Partners=function(d){var g=function(){var j,i=d.Feed,h=i.iasMon;if(typeof h==="string"&&h.toLowerCase()==="t"){j="anId="+i.iasAnId+"&campId="+i.tmCampaignIdNum+"&pubId="+i.tmSiteIdNum+"&chanId="+i.tmFeedIdNum+"&placementId="+i.tmPlacementIdNum+"&adsafe_par&bidurl="+i.page_url;iasPixelUrl=d.lc_params.proto+"//pixel.adsafeprotected.com/jload?"+j;return'<script src="'+iasPixelUrl+'"><\/script>'}else{return""}},b=function(){var j,i=d.Feed,h=i.moatEnabled;if(typeof h==="string"&&h.toLowerCase()==="t"){j="moatClientLevel1="+i.tmCampaignIdNum+"&moatClientLevel2="+i.tmPlacementIdNum+"&moatClientLevel3="+i.tmFeedIdNum+"&moatClientLevel4="+i.tmAdIdNum+"&moatClientSlicer1="+i.tmSiteIdNum+"&moatClientSlicer2="+i.page_url;moatPixelUrl=d.lc_params.proto+"//z.moatads.com/tubemogul154237275611/moatad.js#"+j;return'<script src="'+moatPixelUrl+'"><\/script>'}else{return""}},c=function(){if(!d.Feed.bt&&!d.lc_params.bt){return""}return d.lc_params.proto+"//choices.truste.com/ca?pid=tubemogul01&aid=tubemogul01&cid=0811tm300x250&c=truste01cont1&w="+d.Feed.width+"&h="+d.Feed.height+"&plc=tl&js=10"},f=function(h){tm_log("Feed bt: "+d.Feed.bt);tm_log("lcparams bt: "+d.lc_params.bt);if(trusteAdded||!c()){return""}trusteAdded=true;var i="<script>navigator.mimeTypes['application/x-shockwave-flash']=null;navigator.plugins['Shockwave Flash']=null;<\/script>";return(!h?i:"")+'<span id="te-clearads-js-truste01cont1"><script type="text/javascript" src="'+c()+'"><\/script></span>'};return{getTrusteScriptUrl:c,getTrusteHtml:f,getStdDispIasStr:g,getStdDispMoatStr:b}}(TM_array[tm_auction_id]);TM_array[tm_auction_id].Embed=function(tm_auction_id){var QUARTILE_NAMES=["Complete25","Complete50","Complete75","Completion"],embedAdPart,embedAsset,promoted_video,TM=TM_array[tm_auction_id],divId=tm_auction_id.replace(/[^a-zA-Z0-9]/g,"_"),getDivId=function(){return"TM_PlacementDiv_"+divId},embedWithPartners=function(adHtml){var adHtmlEnc=TM.Util.htmlEncode(adHtml);console.log("adHtmlEnc   :  "+adHtmlEnc);var tmPartnersHtml=TM.Partners.getStdDispMoatStr()+TM.Partners.getStdDispIasStr()+TM.Partners.getTrusteHtml();var adSizeStyle="width: "+TM.Feed.width+"px; height:"+TM.Feed.height+"px;";var appearanceStyle=adSizeStyle+"overflow: hidden; border:none; padding:0px; margin:0px;";var frameDomTemplate="<head></head><body style='"+appearanceStyle+"'><div style='"+appearanceStyle+"'>[[FRAME_HTML]]</div></body>";var adSrc=frameDomTemplate.replace("[[FRAME_HTML]]",adHtmlEnc);var adIframeTag="<iframe id='ad_embed_frame' scrolling='no' style='"+appearanceStyle+"' src=\"data:text/html,"+adSrc+'" srcdoc="'+adSrc+'"></iframe>';var tmContainerFrame=document.createElement("iframe");tmContainerFrame.id=TM.Embed.getDivId();tmContainerFrame.scrolling="no";tmContainerFrame.style=appearanceStyle;var containerSrc=frameDomTemplate.replace("[[FRAME_HTML]]",adIframeTag+tmPartnersHtml);tmContainerFrame.src="data:text/html, '"+containerSrc+"'";tmContainerFrame.srcdoc=containerSrc;document.body.appendChild(tmContainerFrame)},getEmbedStr=function(){if(TM.Util.isNull(TM.Feed)||TM.Util.isEmpty(TM.Feed)){return null}var embed=null;embedAdPart=TM.Util.findInArray(TM.Feed.adParts,"type","player");if(embedAdPart==null){embedAdPart=TM.Util.findInArray(TM.Feed.adParts,"type","expand")}if(embedAdPart==null){embedAdPart=TM.Util.findInArray(TM.Feed.adParts,"type","display")}if(!TM.Util.isNull(embedAdPart)&&TM.Util.findInArray(embedAdPart.assets,"type","promoted_video")!=null){promoted_video=TM.Util.findInArray(embedAdPart.assets,"type","promoted_video")}if(!TM.Util.isNull(promoted_video)&&!TM.Util.isNull(promoted_video.clickURL)&&!TM.Util.isNull(TM.lc_params.bannerclickurl)){promoted_video.clickURL=TM.lc_params.bannerclickurl+encodeURIComponent(promoted_video.clickURL)}if(TM.Feed.displayType=="HTML5"&&!document.createElement("video").canPlayType){TM.Feed.displayType="New Flash"}if(TM.Feed.bt){TM.Feed.wmode="opaque"}switch(TM.Feed.displayType){case"standard_display":if(TM.Util.assetsIncludeFlash()){if(TM.Util.flashDetect()>=9){embed=getFlashStdDispEmbed()}else{embed=getFallbackEmbed()}}else{embed=getHtmlStdDispEmbed()}break;case"inbanner_3rd_party":if(embedAsset=TM.Util.getAssetInAdPart(embedAdPart,"display_code")){embed=embedAsset.detail}break;default:break}if(TM.Util.isNull(embed)){embed=getErrorEmbed()}return embed},getDisplayAsset=function(){var H,i,assetObj;for(H=0;H<TM.Feed.adParts.length;H++){if(TM.Feed.adParts[H].type=="display"){for(i=0;i<TM.Feed.adParts[H].assets.length;i++){if(!!TM.Feed.adParts[H].assets[i]["detail"]&&TM.Feed.adParts[H].assets[i]["detail"]!=""){assetObj=TM.Feed.adParts[H].assets[i]}}}}return assetObj},getFlashStdDispEmbed=function(){var str=null,isIE=
/*@cc_on!@*/
false,assetUrl=getDisplayAsset().detail;if(!!assetUrl){var clickTag=encodeURIComponent(getCtUrl("Flash"));assetUrl=(assetUrl.indexOf("?")>-1)?assetUrl+"&":assetUrl+"?";assetUrl+="clickTag="+clickTag+"&clickTAG="+clickTag;if(isIE){str='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="TMFlashUnit" name="TMFlashUnit" width="'+TM.Feed.width+'" height="'+TM.Feed.height+'" ><param name="movie" value="'+assetUrl+'" /><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="wmode" value="'+TM.Feed.wmode+'" /><param name="auditAdClass" value="'+TM.Util.auditAdClass+'" /></object>'}else{str='<embed id="TMFlashUnit" name="TMFlashUnit" width="'+TM.Feed.width+'" height="'+TM.Feed.height+'" src="'+assetUrl+'" type="application/x-shockwave-flash" wmode="'+TM.Feed.wmode+'" allowscriptaccess="always" allowfullscreen="true" />'}str=TM.Partners.getStdDispIasStr()+TM.Partners.getStdDispMoatStr()+str+TM.Partners.getTrusteHtml(true)}return str},getHtmlStdDispEmbed=function(){var assetObj=getDisplayAsset(),htmlResult;if(!!assetObj){if(assetObj.mimeType=="text/html"){preparePlaytimeIframeBridge(assetObj);htmlResult="async"}else{if(assetObj.mimeType.indexOf("image")==0){htmlResult="<img onclick=\"javascript:TM_array['"+tm_auction_id+"'].Util.openClickThrough('"+getCtUrl("HTML5")+'\')" width="'+TM.Feed.width+'" height="'+TM.Feed.height+'" src="'+assetObj.detail+'" style="cursor:pointer"/>';htmlResult=TM.Partners.getStdDispIasStr()+TM.Partners.getStdDispMoatStr()+htmlResult}}}else{if(TM.Feed.preview){htmlResult="<div style='background-color:black;width:"+TM.Feed.width+"px;height:"+TM.Feed.height+"px'/>"}else{htmlResult=getErrorEmbed()}}if(htmlResult!="async"){htmlResult+=TM.Partners.getTrusteHtml()}return htmlResult},preparePlaytimeIframeBridge=function(assetObj){TM.Util.receiveMessage(iFrameApiHelpers.receiveMessage);var iframe=document.createElement("iframe");iframe.style.width=TM.Feed.width+"px";iframe.style.height=TM.Feed.height+"px";iframe.style.borderStyle="none";iframe.style.borderWidth="0px";iframe.id="tm_ad_frame_"+tm_auction_id;iframe.onload=function(){console.log("Playtime Iframe Bridge loaded")};var ctUrl=getCtUrl("HTML5");var iframe_id="tm_ad_frame_"+Math.floor(Date.now()*Math.random());iframe.src=TM.lc_params.proto+"//playtime.tubemogul.com/utils/playtime_iframe_bridge.html?adTag="+encodeURIComponent(assetObj.detail)+"&statsClickURL="+encodeURIComponent(ctUrl)+"&tm_asset_id="+iframe_id+"&tm_origin="+encodeURI(document.location);var frameHolder=document.createElement("div"),iasPixelHolder=document.createElement("span"),moatPixelHolder=document.createElement("span");iasPixelHolder.innerHTML=TM.Partners.getStdDispIasStr();moatPixelHolder.innerHTML=TM.Partners.getStdDispMoatStr();frameHolder.id=TM.Embed.getDivId();frameHolder.appendChild(iframe);frameHolder.appendChild(iasPixelHolder);frameHolder.appendChild(moatPixelHolder);document.body.appendChild(frameHolder);TM.Util.loadScript(iasPixelUrl);TM.Util.loadScript(moatPixelUrl);iFrameAssets[0]={uniqueId:iframe_id,apiInitialized:false,iFrameObj:{src:iframe.src}}},getFallbackEmbed=function(){var fallbackEmbed,fallbackNode=TM.Util.getAssetInAdPartByType("fallback","banner");if(fallbackNode){var ctUrl="",imgString='<img width="'+fallbackNode.width+'" height="'+fallbackNode.height+'" src="'+fallbackNode.detail+'"/>';if(!TM.Util.isNull(fallbackNode.clickURL)){if(!TM.Util.isNull(TM.lc_params.bannerclickurl)){fallbackNode.clickURL=TM.lc_params.bannerclickurl+encodeURIComponent(fallbackNode.clickURL)}var params={sId:0,sessId:TM.Feed.session.sessId,paId:TM.Feed.paId,rt:"HTML5",w:fallbackNode.width,h:fallbackNode.height,redir:fallbackNode.clickURL};ctUrl=buildStatsUrl("ct",params)}if(ctUrl==""){fallbackEmbed=imgString}else{fallbackEmbed="<a href=\"javascript:TM_array['"+tm_auction_id+"'].Util.openClickThrough('"+ctUrl+'\')" target="_new">'+imgString+"</a>"}fallbackEmbed=TM.Partners.getStdDispIasStr()+TM.Partners.getStdDispMoatStr()+fallbackEmbed}else{fallbackEmbed=getErrorEmbed()}return fallbackEmbed},getErrorEmbed=function(){return'<a href="http://www.tubemogul.com" target="_new"><img width="'+TM.Feed.width+'" height="'+TM.Feed.height+'" src="'+TM.lc_params.assetbase+'/adtags/no_javascript.jpg" /></a>'},addQParams=function(params,stat){params.sessId=TM.Feed.session.sessId;params.paId=TM.Feed.paId;params.psId=TM.Feed.psId;params.rt=TM.Feed.rt;params.did=TM.Feed.did;params.didtype=TM.Feed.didtype;params.burl=TM.Util.getBurl();if(stat=="v/imp"){params.w=TM.Feed.width;params.h=TM.Feed.height;if(TM.Feed.preview){params.vinst="t"}else{params.vinst=viewabilityDisabled?"f":"t"}}else{if(stat==="ct"){params.bi=TM.Feed.bi;params.adEngClickThruQP=TM.Feed.adEngClickThruQP;params.adEngViewQP=TM.Feed.adEngViewQP}}},getImpURL=function(){var params={};addQParams(params,"v/imp");params.adEngImpQP=TM.Feed.adEngImpQP;if(TM.Feed.pt=="imp"){params.bi=TM.Feed.bi;params.price=TM.Feed.price}return buildStatsUrl("imp",params)},getVimpURL=function(results){var params={};addQParams(params,"v/imp");params.vver=results.ovv_release_ver;switch(results.viewabilityState){case"viewable":params.vwbl="t";break;case"unviewable":params.vwbl="f";break;case"unmeasurable":if(results.inIframe){params.vwbl="ifr";params.ifr="t"}else{params.vwbl="err";params.ifr="f"}break;default:params.vwbl="err";break}if(params.vwbl!="err"){params.vpct=Math.round(results.percentViewable);params.awin=results.focus?"t":"f";params.vw=results.clientWidth;params.vh=results.clientHeight;try{params.pw=results.objRight-results.objLeft;params.ph=results.objBottom-results.objTop}catch(e){}}if(results.objWidth>20000||results.objHeight>20000){params.pw=-1;params.ph=-1}return buildStatsUrl("vimp",params)},buildStatsUrl=function(topic,params){var str=TM.lc_params.statsurl+"/"+topic+"?",amp="";for(a in params){if(!TM.Util.isNull(params[a])){str+=amp+a+"="+encodeURIComponent(params[a]);amp="&"}}if(topic=="imp"&&!TM.Util.isNull(params.adEngImpQP)){str+="&"+params.adEngImpQP}if(topic=="ct"&&!TM.Util.isNull(params.adEngClickThruQP)){str+="&"+params.adEngClickThruQP}if(topic=="view"&&!TM.Util.isNull(params.adEngViewQP)){str+="&"+params.adEngViewQP}if(!TM.Util.isNull(TM.Feed.expaId)){str+="&expaId="+TM.Feed.expaId}return str},getCtUrl=function(rt,ctDirect){var params={};addQParams(params,"ct");params.redir=!!ctDirect?ctDirect:getDisplayCtUrl();return buildStatsUrl("ct",params)},getDisplayCtUrl=function(){var ctUrl;try{var H,i;for(H=0;H<TM.Feed.adParts.length;H++){if(TM.Feed.adParts[H].type=="display"){for(i=0;i<TM.Feed.adParts[H].assets.length;i++){if(!!TM.Feed.adParts[H].assets[i]["clickURL"]&&TM.Feed.adParts[H].assets[i]["clickURL"]!=""){ctUrl=TM.Feed.adParts[H].assets[i]["clickURL"];break}}}}if(ctUrl==null){ctUrl=document.getElementById("tm_ad_frame_"+tm_auction_id).contentWindow.clickTag}}catch(e){}if(!TM.Util.isNull(TM.lc_params.bannerclickurl)){ctUrl=TM.lc_params.bannerclickurl+encodeURIComponent(ctUrl)}return ctUrl},empty=function(){};return{getEmbedStr:getEmbedStr,buildStatsUrl:buildStatsUrl,addQParams:addQParams,getDivId:getDivId,getImpURL:getImpURL,getVimpURL:getVimpURL,embedWithPartners:embedWithPartners,getCtUrl:getCtUrl}}(tm_auction_id);TM_array[tm_auction_id].prepareFeeds=function(b){if(b.Util.isNull(b.lc_params)){b.lc_params={}}if(typeof tm_param_array!=="undefined"&&!b.Util.isNull(tm_param_array[b.Feed.session.sessId])){b.tm_params=tm_param_array[b.Feed.session.sessId]}if(!b.hasOwnProperty("tm_params")){b.tm_params={}}for(a in b.tm_params){b.lc_params[a.toLowerCase()]=b.tm_params[a]}if(b.Util.isNull(b.lc_params.zerotime)){b.lc_params.zerotime=Number(new Date())}b.Util.updateProtocol();b.lc_params.assetbase=b.Util.setDefault(b.tm_params.assetbase,b.lc_params.proto+b.Feed.assetBaseURL);b.lc_params.statsurl=b.lc_params.proto+"//"+b.Util.setDefault(b.Feed.statsBaseURL,"stats.tubemogul.com/stats/1");b.lc_params.adpluginurl=b.Feed.adPluginURL;if(b.Feed.adPluginURL.substr(0,4)!="http"){b.lc_params.adpluginurl=b.lc_params.assetbase+b.lc_params.adpluginurl}while(!!b.lc_params.pixels&&b.lc_params.pixels.length>0){b.Feed.pixels.push(b.lc_params.pixels.pop())}b.Feed.tagParams=b.lc_params;if(b.Feed.preview){b.Feed.session.sessId="preview"}else{if(!b.Util.isNull(b.lc_params.auction_id)){b.Feed.session.sessId=b.lc_params.auction_id}}};TM_array[tm_auction_id].prepareMraidImpression=function(c,b){var d;if(c.Util.isNull(c.lc_params.impurl)){d=c.Embed.getImpURL()}else{d=c.lc_params.impurl}if(b){if(c.Feed.preview){c.Feed.vtrusted="T";if(d.indexOf("vinst")==-1){d+="&vinst=t"}}}c.Feed.pixels.push({id:"TM_IMPRESSION",trigger:"Impression",detail:d,detail_ssl:null,type:"Image"})};TM_array[tm_auction_id].prepareCloseButtonDelay=function(c){if(typeof c.Feed.closeButtonDelay!=="undefined"&&Number(c.Feed.closeButtonDelay)==c.Feed.closeButtonDelay){c.Feed.closeButtonDelay=c.Feed.closeButtonDelay*1000}else{if(typeof c.lc_params.closedelay!=="undefined"&&Number(c.lc_params.closedelay)==c.lc_params.closedelay){c.Feed.closeButtonDelay=c.lc_params.closedelay}else{var b=c.Util.getAssetInAdPartByType("player","promoted_video");if(b&&typeof(b.videoDuration)==="number"){c.Feed.closeButtonDelay=(b.videoDuration>15)?5000:1000*b.videoDuration+1000}else{console.log("Error parsing close button delay");c.Feed.closeButtonDelay=5000}}}};TM_array[tm_auction_id].prepareAndEmbed=function(d){var c;d.prepareFeeds(d);var i=d.Feed.adClass.toLowerCase();var f;var h=function(){if(!f){if(d.Util.isNull(d.lc_params.impurl)){d.Util.firePixel("Impression","Image",d.Embed.getImpURL(),"TM_IMPRESSION")}d.Util.firePixels("Impression")}d.Util.firePixels("NOW");d.Util.firePixels("TM_AUDIT_TAG");d.Util.firePixels("tag")};var g=function(){c=d.Embed.getEmbedStr();if(c!="async"){if(d.Feed.displayType=="inbanner_3rd_party"){d.Embed.embedWithPartners(c)}else{d.Util.writeHTML(d.Embed.getDivId(),c);if(d.Partners.getTrusteScriptUrl()){d.Util.loadScript(d.Partners.getTrusteScriptUrl())}if(iasPixelUrl){d.Util.loadScript(iasPixelUrl)}if(moatPixelUrl){d.Util.loadScript(moatPixelUrl)}}}};d.Util.detectMobile();if(d.Util.isNull(document.body)){window.addEventListener("load",function b(j){window.removeEventListener("load",b,false);h();g()},false)}else{h();g()}};function runMraidDisplay(){tm_log("runMraidDisplay()");var c,b;c=TM_array[tm_auction_id].Util.getAssetInAdPartByType("display","overlay");switch(TM_array[tm_auction_id].Util.mimeTypeClass(c)){case"image":b=new MraidDisplayImageClass(c,TM_array[tm_auction_id]);break;case"text":b=new MraidDisplayHtmlClass(c,TM_array[tm_auction_id]);break;default:tm_log("not a vaild mime-type for Mobile Display ");break}}function convertToStandardDisplay(){document.body.onclick=null;console.log("NO MRAID OBJECT FOUND! Cannot embed asset");img=new Image();img.src="//playtime.tubemogul.com/adtags/no_javascript.jpg";document.body.appendChild(img)}function go(b){if(b.Feed.adClass=="display_app_inter"&&b.Feed.displayType!=="mraid_3rd_party"){b.Util.detectMraid(1,runMraidDisplay,convertToStandardDisplay)}else{b.prepareAndEmbed(b)}initVfd(b)}function init(){if(TM_array[tm_auction_id].Feed.click_to_run){document.body.onclick=function(){document.body.onclick=null;go(TM_array[tm_auction_id])}}else{go(TM_array[tm_auction_id])}}if(document.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){init()}else{document.addEventListener("DOMContentLoaded",init)}}catch(e){console.log(e.toString());img=new Image();img.src="//playtime.tubemogul.com/adtags/no_javascript.jpg";document.body.appendChild(img)}function initVfd(TM){try{TM.VFD=function(id,callback,flashVersion){var _id=id,_impression_callback=callback,_flashVersion=flashVersion;HTMLElement.prototype["onJsReady"+_id]=ovvJsReady;var VFD_VERSION="1.0.0",OVV_VERSION="1.2.0",BUILD_VERSION="824874b19cc3096001a3ac172c4de2b859302381-DIRTY",BEACON_SWF="//playtime.tubemogul.com/flash/OVVBeacon.swf",VIEWABLE_IMPRESSION_THRESHOLD=10,UNMEASURABLE_IMPRESSION_THRESHOLD=10,POLL_INTERVAL=100,MIN_VIEW_AREA_PC=50,_pollIntervalId,_buildVersion,_intervalTimer,_intervalsInView=0,_intervalsUnMeasurable=0,_vimpFired=false,onIntervalCheck=function(){if(_vimpFired){return}var results=checkViewability();_intervalsUnMeasurable=(results.viewabilityState=="unmeasurable")?_intervalsUnMeasurable+1:0;_intervalsInView=(results.viewabilityState=="viewable"&&results.focus==true)?_intervalsInView+1:0;if(_intervalsInView>=VIEWABLE_IMPRESSION_THRESHOLD||_intervalsUnMeasurable>=UNMEASURABLE_IMPRESSION_THRESHOLD){window.clearInterval(_pollIntervalId);_impression_callback(results);_vimpFired=true}},checkViewability=function(){var asset=window.$ovv.getAssetById(_id);var results=asset.checkViewability();results.ovv_release_ver=OVV_VERSION;results.vfd_release_ver=VFD_VERSION;return results},intervalsInView=function(){return _intervalsInView},prepareOVV=function(){var ovv_js="function OVV(){function getServingScenarioType(servingScenarioEnum){try{if(window.top==window)return servingScenarioEnum.OnPage;for(var curWin=window,level=0;curWin.parent!=curWin&&1e3>level;){if(curWin.parent.document.domain!=curWin.document.domain)return servingScenarioEnum.CrossDomainIframe;curWin=curWin.parent}return servingScenarioEnum.SameDomainIframe}catch(e){}return servingScenarioEnum.CrossDomainIframe}this.DEBUG=!1,this.asset=null,this.positionInterval,this.userAgent=window.testOvvConfig&&window.testOvvConfig.userAgent?window.testOvvConfig.userAgent:navigator.userAgent,this.servingScenarioEnum={OnPage:1,SameDomainIframe:2,CrossDomainIframe:3},this.intersectionObserverSupported=!!window.IntersectionObserver,this.servingScenario=getServingScenarioType(this.servingScenarioEnum),this.IN_IFRAME=this.servingScenario!=this.servingScenarioEnum.OnPage,this.IN_XD_IFRAME=this.servingScenario==this.servingScenarioEnum.CrossDomainIframe,this.geometrySupported=!this.IN_XD_IFRAME;var browserData=new OVVBrowser(this.userAgent);this.browser=browserData.getBrowser(),this.browserIDEnum=browserData.getBrowserIDEnum(),this.interval=200,this.releaseVersion={QQ}OVVRELEASEVERSION{QQ},this.buildVersion={QQ}OVVBUILDVERSION{QQ};var assets={},previousEvents=[],PREVIOUS_EVENTS_CAPACITY=1e3,subscribers=[];this.addAsset=function(ovvAsset){assets.hasOwnProperty(ovvAsset.getId())||(assets[ovvAsset.getId()]=ovvAsset,this.asset=ovvAsset)},this.removeAsset=function(ovvAsset){delete assets[ovvAsset.getId()]},this.getAssetById=function(id){return assets[id]},this.getAds=function(){var copy={};for(var id in assets)assets.hasOwnProperty(id)&&(copy[id]=assets[id]);return copy},this.subscribe=function(events,uid,func,getPreviousEvents){if(getPreviousEvents)for(key in previousEvents[uid])previousEvents[uid][key]&&contains(previousEvents[uid][key].eventName,events)&&runSafely(function(){func(uid,previousEvents[uid][key])});for(key in events)subscribers[events[key]+uid]||(subscribers[events[key]+uid]=[]),subscribers[events[key]+uid].push({Func:func})},this.publish=function(eventName,uid,args){var eventArgs={eventName:eventName,eventTime:getCurrentTime(),ovvArgs:args};if(previousEvents[uid]||(previousEvents[uid]=[]),previousEvents[uid].length<PREVIOUS_EVENTS_CAPACITY&&previousEvents[uid].push(eventArgs),eventName&&uid&&subscribers[eventName+uid]instanceof Array)for(var i=0;i<subscribers[eventName+uid].length;i++){var funcObject=subscribers[eventName+uid][i];funcObject&&funcObject.Func&&{QQ}function{QQ}==typeof funcObject.Func&&runSafely(function(){funcObject.Func(uid,eventArgs)})}},this.getAllReceivedEvents=function(uid){return previousEvents[uid]},this.getViewPortSize=function(contextWindow){var viewPortSize={width:1/0,height:1/0,area:1/0};return!isNaN(contextWindow.document.body.clientWidth)&&contextWindow.document.body.clientWidth>0&&(viewPortSize.width=contextWindow.document.body.clientWidth),!isNaN(contextWindow.document.body.clientHeight)&&contextWindow.document.body.clientHeight>0&&(viewPortSize.height=contextWindow.document.body.clientHeight),contextWindow.document.documentElement&&contextWindow.document.documentElement.clientWidth&&!isNaN(contextWindow.document.documentElement.clientWidth)&&(viewPortSize.width=contextWindow.document.documentElement.clientWidth),contextWindow.document.documentElement&&contextWindow.document.documentElement.clientHeight&&!isNaN(contextWindow.document.documentElement.clientHeight)&&(viewPortSize.height=contextWindow.document.documentElement.clientHeight),contextWindow.innerWidth&&!isNaN(contextWindow.innerWidth)&&(viewPortSize.width=Math.min(viewPortSize.width,contextWindow.innerWidth)),contextWindow.innerHeight&&!isNaN(contextWindow.innerHeight)&&(viewPortSize.height=Math.min(viewPortSize.height,contextWindow.innerHeight)),viewPortSize.area=viewPortSize.height*viewPortSize.width,viewPortSize};var getCurrentTime=function(){{QQ}use strict{QQ};return Date.now?Date.now():(new Date).getTime()},contains=function(item,list){for(var i=0;i<list.length;i++)if(list[i]===item)return!0;return!1},runSafely=function(action){try{var ret=action();return void 0===ret||ret}catch(e){return!1}}}function OVVCheck(){this.clientHeight=-1,this.clientWidth=-1,this.error={QQ}{QQ},this.focus=null,this.fps=-1,this.id={QQ}{QQ},this.beaconsSupported=null,this.geometrySupported=null,this.geometryViewabilityState={QQ}{QQ},this.beaconViewabilityState={QQ}{QQ},this.cssViewabilityState={QQ}{QQ},this.domViewabilityState={QQ}{QQ},this.technique={QQ}{QQ},this.beacons=new Array,this.inIframe=null,this.objBottom=-1,this.objLeft=-1,this.objRight=-1,this.objTop=-1,this.percentViewable=-1,this.percentObscured=0,this.viewabilityState={QQ}{QQ}}function OVVBrowser(userAgent){function getBrowserDetailsByUserAgent(ua,t){var getData=function(){for(var data={ID:0,name:{QQ}{QQ},version:{QQ}{QQ}},dataString=ua,i=0;i<dataBrowsers.length;i++)if(null!=dataString.match(new RegExp(dataBrowsers[i].brRegex))){if(data.ID=dataBrowsers[i].id,data.name=dataBrowsers[i].name,null==dataBrowsers[i].verRegex)break;var brverRes=dataString.match(new RegExp(dataBrowsers[i].verRegex+{QQ}[0-9]*{QQ}));if(null!=brverRes){var replaceStr=brverRes[0].match(new RegExp(dataBrowsers[i].verRegex));data.version=brverRes[0].replace(replaceStr[0],{QQ}{QQ})}var brOSRes=dataString.match(new RegExp(winOSRegex+{QQ}[0-9\\.]*{QQ}));null!=brOSRes&&(data.os=brOSRes[0]);break}return data},winOSRegex={QQ}(Windows NT ){QQ},dataBrowsers=[{id:4,name:{QQ}Opera{QQ},brRegex:{QQ}OPR|Opera{QQ},verRegex:{QQ}(OPR/|Version/){QQ}},{id:1,name:{QQ}MSIE{QQ},brRegex:{QQ}MSIE|Trident/7.*rv:11|rv:11.*Trident/7{QQ},verRegex:{QQ}(MSIE |rv:){QQ}},{id:2,name:{QQ}Firefox{QQ},brRegex:{QQ}Firefox{QQ},verRegex:{QQ}Firefox/{QQ}},{id:3,name:{QQ}Chrome{QQ},brRegex:{QQ}Chrome{QQ},verRegex:{QQ}Chrome/{QQ}},{id:5,name:{QQ}Safari{QQ},brRegex:{QQ}Safari|(OS |OS X )[0-9].*AppleWebKit{QQ},verRegex:{QQ}Version/{QQ}}];return getData()}var browserIDEnum={MSIE:1,Firefox:2,Chrome:3,Opera:4,safari:5},browser=getBrowserDetailsByUserAgent(userAgent);this.getBrowser=function(){return browser},this.getBrowserIDEnum=function(){return browserIDEnum}}function OVVBeaconSupportCheck(){var ovvBrowser=new OVVBrowser($ovv.userAgent),browser=ovvBrowser.getBrowser(),browserIDEnum=ovvBrowser.getBrowserIDEnum();this.supportsBeacons=function(){var WIN_8_1=6.3,isIE=browser.ID==browserIDEnum.MSIE,isSupportedIEVersion=browser.version>=11,ntVersionArr=browser.os?browser.os.split({QQ} {QQ}):[0],ntVersion=ntVersionArr[ntVersionArr.length-1],isSupportedOSForIE=ntVersion>=WIN_8_1;return!isIE||isSupportedIEVersion&&isSupportedOSForIE}}function OVVAsset(uid,dependencies){var lastPlayerLocation,player,intersectionObserverMonitor,TOTAL_BEACONS=13,SQRT_2=Math.sqrt(2),CONTROL=0,CENTER=1,OUTER_TOP_LEFT=2,OUTER_TOP_RIGHT=3,OUTER_BOTTOM_LEFT=4,OUTER_BOTTOM_RIGHT=5,MIDDLE_TOP_LEFT=6,MIDDLE_TOP_RIGHT=7,MIDDLE_BOTTOM_LEFT=8,MIDDLE_BOTTOM_RIGHT=9,INNER_TOP_LEFT=10,INNER_TOP_RIGHT=11,INNER_BOTTOM_LEFT=12,INNER_BOTTOM_RIGHT=13,positionBeaconsIntervalDelay=500,id=uid,beaconsStarted=0,BEACON_SIZE=$ovv.DEBUG?20:1,geometryViewabilityCalculator=dependencies.geometryViewabilityCalculator,getBeaconFunc=function(){return null},getBeaconContainerFunc=function(){return null},beaconSupportCheck=new OVVBeaconSupportCheck;this.checkViewability=function(){var check=new OVVCheck;if(check.id=id,check.inIframe=$ovv.IN_IFRAME,check.geometrySupported=$ovv.geometrySupported,check.focus=isInFocus(),!player)return check.error={QQ}Player not found!{QQ},check;if($ovv.intersectionObserverSupported)return check.technique=OVVCheck.INTERSECTIONOBSERVER,checkIntersectionObserver(check,player),check.viewabilityState=check.percentViewable>=50?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,check;if(checkCssInvisibility(check,player)===!0){if(!$ovv.DEBUG)return check;check.cssViewabilityState=OVVCheck.UNVIEWABLE}if(checkDomObscuring(check,player)===!0){if(!$ovv.DEBUG)return check;check.domViewabilityState=OVVCheck.UNVIEWABLE}if(!beaconSupportCheck.supportsBeacons()&&check.geometrySupported===!1&&(check.viewabilityState=OVVCheck.UNMEASURABLE,!$ovv.DEBUG))return check;if(check.geometrySupported){if(check.technique=OVVCheck.GEOMETRY,checkGeometry(check,player),check.viewabilityState=check.percentViewable>=50?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,!$ovv.DEBUG)return check;check.geometryViewabilityState=check.viewabilityState}var controlBeacon=getBeacon(0),controlBeaconContainer=getBeaconContainer(0);if(controlBeacon&&controlBeacon.isViewable&&controlBeaconContainer){var controlBeaconVisible=isOnScreen(controlBeaconContainer)&&controlBeacon.isViewable();check.beaconsSupported=!controlBeaconVisible}else check.beaconsSupported=!1;if(beaconsReady())if(check.beaconsSupported){check.technique=OVVCheck.BEACON;var viewable=checkBeacons(check);null===viewable?(check.viewabilityState=OVVCheck.UNMEASURABLE,$ovv.DEBUG&&(check.beaconViewabilityState=OVVCheck.UNMEASURABLE)):(check.viewabilityState=viewable?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE,$ovv.DEBUG&&(check.beaconViewabilityState=viewable?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE))}else check.viewabilityState=OVVCheck.UNMEASURABLE;else check.technique=OVVCheck.BEACON,check.viewabilityState=OVVCheck.NOT_READY;if($ovv.DEBUG)if(check.technique={QQ}{QQ},null===check.geometryViewabilityState&&null===check.beaconViewabilityState)check.viewabilityState=OVVCheck.UNMEASURABLE;else{var beaconViewable=check.beaconViewabilityState===OVVCheck.VIEWABLE,cssViewable=check.cssViewabilityState===OVVCheck.VIEWABLE,domViewable=check.domViewabilityState===OVVCheck.VIEWABLE,geometryViewable=check.geometryViewabilityState===OVVCheck.VIEWABLE;check.viewabilityState=cssViewable||domViewable||beaconViewable||geometryViewable?OVVCheck.VIEWABLE:OVVCheck.UNVIEWABLE}return check},this.beaconStarted=function(index){$ovv.DEBUG&&getBeacon(index).debug&&getBeacon(index).debug(),0!==index&&(beaconsStarted++,beaconsReady()&&player[{QQ}onJsReady{QQ}+uid]())},this.dispose=function(){for(var index=1;TOTAL_BEACONS>=index;index++){var container=getBeaconContainer(index);container&&(delete beaconsStarted[index],container.parentElement.removeChild(container))}clearInterval(window.$ovv.positionInterval),window.$ovv.removeAsset(this)},this.getId=function(){return id},this.getPlayer=function(){return player};var checkCssInvisibility=function(check,player){var style=window.getComputedStyle(player,null),visibility=style.getPropertyValue({QQ}visibility{QQ}),display=style.getPropertyValue({QQ}display{QQ});return({QQ}hidden{QQ}==visibility||{QQ}none{QQ}==display)&&(check.technique=OVVCheck.CSS_INVISIBILITY,check.viewabilityState=OVVCheck.UNVIEWABLE,!0)},checkDomObscuring=function(check,player){var playerRect=player.getBoundingClientRect(),offset=12,xLeft=playerRect.left+offset,xRight=playerRect.right-offset,yTop=playerRect.top+offset,yBottom=playerRect.bottom-offset,xCenter=Math.floor(playerRect.left+playerRect.width/2),yCenter=Math.floor(playerRect.top+playerRect.height/2),testPoints=[{x:xLeft,y:yTop},{x:xCenter,y:yTop},{x:xRight,y:yTop},{x:xLeft,y:yCenter},{x:xCenter,y:yCenter},{x:xRight,y:yCenter},{x:xLeft,y:yBottom},{x:xCenter,y:yBottom},{x:xRight,y:yBottom}];for(var p in testPoints)if(testPoints[p]&&testPoints[p].x>=0&&testPoints[p].y>=0&&(elem=document.elementFromPoint(testPoints[p].x,testPoints[p].y),null!=elem&&elem!=player&&!player.contains(elem)&&(overlappingArea=overlapping(playerRect,elem.getBoundingClientRect()),overlappingArea>0&&(check.percentObscured=100*overlapping(playerRect,elem.getBoundingClientRect()),check.percentObscured>50))))return check.percentViewable=100-check.percentObscured,check.technique=OVVCheck.DOM_OBSCURING,check.viewabilityState=OVVCheck.UNVIEWABLE,!0;return!1},overlapping=function(playerRect,elem){var playerArea=playerRect.width*playerRect.height,x_overlap=Math.max(0,Math.min(playerRect.right,elem.right)-Math.max(playerRect.left,elem.left)),y_overlap=Math.max(0,Math.min(playerRect.bottom,elem.bottom)-Math.max(playerRect.top,elem.top));return x_overlap*y_overlap/playerArea},checkGeometry=function(check,player){check.percentObscured=check.percentObscured||0;var viewabilityResult=geometryViewabilityCalculator.getViewabilityState(player,window);return viewabilityResult.error||(check.clientWidth=viewabilityResult.clientWidth,check.clientHeight=viewabilityResult.clientHeight,check.percentViewable=viewabilityResult.percentViewable-check.percentObscured,check.objTop=viewabilityResult.objTop,check.objBottom=viewabilityResult.objBottom,check.objLeft=viewabilityResult.objLeft,check.objRight=viewabilityResult.objRight),viewabilityResult},checkBeacons=function(check){if(!beaconsReady())return null;var beaconsVisible=0,outerCornersVisible=0,middleCornersVisible=0,innerCornersVisible=0;check.beacons=new Array(TOTAL_BEACONS);var objRect=player.getClientRects?player.getClientRects()[0]:{top:-1,bottom:-1,left:-1,right:-1};check.objTop=objRect.top,check.objBottom=objRect.bottom,check.objLeft=objRect.left,check.objRight=objRect.right;for(var index=0;TOTAL_BEACONS>=index;index++)if(0!==index){var beacon=getBeacon(index),beaconContainer=getBeaconContainer(index),isViewable=beacon.isViewable(),onScreen=isOnScreen(beaconContainer);if(check.beacons[index]=isViewable&&onScreen,isViewable)switch(beaconsVisible++,index){case OUTER_TOP_LEFT:case OUTER_TOP_RIGHT:case OUTER_BOTTOM_LEFT:case OUTER_BOTTOM_RIGHT:outerCornersVisible++;break;case MIDDLE_TOP_LEFT:case MIDDLE_TOP_RIGHT:case MIDDLE_BOTTOM_LEFT:case MIDDLE_BOTTOM_RIGHT:middleCornersVisible++;break;case INNER_TOP_LEFT:case INNER_TOP_RIGHT:case INNER_BOTTOM_LEFT:case INNER_BOTTOM_RIGHT:innerCornersVisible++}}if(beaconsVisible===TOTAL_BEACONS)return!0;var beacons=check.beacons;return beacons[CENTER]===!1?(innerCornersVisible>=3||middleCornersVisible>=3||outerCornersVisible>=3)&&null:beacons[CENTER]===!0&&(beacons[OUTER_TOP_LEFT]===!0&&beacons[OUTER_TOP_RIGHT]===!0||beacons[OUTER_TOP_LEFT]===!0&&beacons[OUTER_BOTTOM_LEFT]===!0||beacons[OUTER_TOP_RIGHT]===!0&&beacons[OUTER_BOTTOM_RIGHT]===!0||beacons[OUTER_BOTTOM_LEFT]===!0&&beacons[OUTER_BOTTOM_RIGHT]===!0)||(beacons[CENTER]===!0&&4==middleCornersVisible||(!beacons[OUTER_TOP_LEFT]||!beacons[OUTER_BOTTOM_RIGHT]||beacons[MIDDLE_TOP_LEFT]&&beacons[INNER_TOP_LEFT]&&beacons[CENTER]&&beacons[INNER_BOTTOM_RIGHT]&&beacons[MIDDLE_BOTTOM_RIGHT]?!(!beacons[OUTER_BOTTOM_LEFT]||!beacons[OUTER_TOP_RIGHT]||beacons[MIDDLE_BOTTOM_LEFT]&&beacons[INNER_BOTTOM_LEFT]&&beacons[CENTER]&&beacons[INNER_TOP_RIGHT]&&beacons[MIDDLE_TOP_RIGHT])&&null:null))},checkIntersectionObserver=function(check,player){check.percentViewable=intersectionObserverMonitor.percentViewable;var objRect=player.getClientRects?player.getClientRects()[0]:{top:-1,bottom:-1,left:-1,right:-1};if(check.objTop=objRect.top,check.objBottom=objRect.bottom,check.objLeft=objRect.left,check.objRight=objRect.right,check.geometrySupported){var viewPortSize=$ovv.getViewPortSize(window);check.clientWidth=viewPortSize.width,check.clientHeight=viewPortSize.height}},beaconsReady=function(){return!!player&&beaconsStarted===TOTAL_BEACONS},createBeacons=function(url){var reversed={QQ}LRU_FWS_NOCAEB{QQ},unreplaced=reversed.split({QQ}{QQ}).reverse().join({QQ}{QQ});if({QQ}{QQ}!=url&&url!=unreplaced){for(var index=0;TOTAL_BEACONS>=index;index++){var swfContainer=document.createElement({QQ}DIV{QQ});swfContainer.id={QQ}OVVBeaconContainer_{QQ}+index+{QQ}_{QQ}+id,swfContainer.style.position={QQ}absolute{QQ},swfContainer.style.zIndex=$ovv.DEBUG?99999:-99999;var html={Q}<object classid={QQ}clsid:D27CDB6E-AE6D-11cf-96B8-444553540000{QQ} width={QQ}{Q}+BEACON_SIZE+{Q}{QQ} height={QQ}{Q}+BEACON_SIZE+{Q}{QQ}><param name={QQ}movie{QQ} value={QQ}{Q}+url+{Q}{QQ} /><param name={QQ}quality{QQ} value={QQ}low{QQ} /><param name={QQ}flashvars{QQ} value={QQ}id={Q}+id+{QQ}&index={QQ}+index+{Q}{QQ} /><param name={QQ}bgcolor{QQ} value={QQ}#ffffff{QQ} /><param name={QQ}wmode{QQ} value={QQ}transparent{QQ} /><param name={QQ}allowScriptAccess{QQ} value={QQ}always{QQ} /><param name={QQ}allowFullScreen{QQ} value={QQ}false{QQ} /><!--[if !IE]>--><object id={QQ}OVVBeacon_{Q}+index+{QQ}_{QQ}+id+{Q}{QQ} type={QQ}application/x-shockwave-flash{QQ} data={QQ}{Q}+url+{Q}{QQ} width={QQ}{Q}+BEACON_SIZE+{Q}{QQ} height={QQ}{Q}+BEACON_SIZE+{Q}{QQ}><param name={QQ}quality{QQ} value={QQ}low{QQ} /><param name={QQ}flashvars{QQ} value={QQ}id={Q}+id+{QQ}&index={QQ}+index+{Q}{QQ} /><param name={QQ}bgcolor{QQ} value={QQ}#ff0000{QQ} /><param name={QQ}wmode{QQ} value={QQ}transparent{QQ} /><param name={QQ}allowScriptAccess{QQ} value={QQ}always{QQ} /><param name={QQ}allowFullScreen{QQ} value={QQ}false{QQ} /><!--<![endif]--></object>{Q};swfContainer.innerHTML=html,document.body.insertBefore(swfContainer,document.body.firstChild)}positionBeacons.bind(this)(),this.positionInterval=setInterval(positionBeacons.bind(this),positionBeaconsIntervalDelay)}},createFrameBeacons=function(){for(var index=0;TOTAL_BEACONS>=index;index++){var iframe=document.createElement({QQ}iframe{QQ});iframe.name=iframe.id={QQ}OVVFrame_{QQ}+id+{QQ}_{QQ}+index,iframe.width=$ovv.DEBUG?20:1,iframe.height=$ovv.DEBUG?20:1,iframe.frameBorder=0,iframe.style.position={QQ}absolute{QQ},iframe.style.zIndex=$ovv.DEBUG?99999:-99999,iframe.src={QQ}javascript: window.isInViewArea = undefined; window.wasInViewArea = false; window.isInView = undefined; window.wasViewed = false; window.started = false; window.index = {QQ}+index+{Q};window.isViewable = function() { return window.isInView; }; var cnt = 0; setTimeout(function() {var span = document.createElement({QQ}span{QQ});span.id = {QQ}ad1{QQ};document.body.insertBefore(span, document.body.firstChild);},300);setTimeout(function() {setInterval(function() { ad1 = document.getElementById({QQ}ad1{QQ});ad1.innerHTML = window.mozPaintCount > cnt ? {QQ}In View{QQ} : {QQ}Out of View{QQ};var paintCount = window.mozPaintCount; window.isInView = (paintCount>cnt); cnt = paintCount; if (parent.$ovv.DEBUG == true) {if(window.isInView === true){document.body.style.background = {QQ}green{QQ};} else {document.body.style.background = {QQ}red{QQ};}}if (window.started === false) {parent.$ovv.getAssetById({QQ}{Q}+id+{Q}{QQ}).beaconStarted(window.index);window.started = true;}}, 500)},400);{Q},document.body.insertBefore(iframe,document.body.firstChild)}positionBeacons.bind(this)(),this.positionInterval=setInterval(positionBeacons.bind(this),positionBeaconsIntervalDelay)},positionBeacons=function(){if(beaconsReady()){var playerLocation=player.getClientRects()[0];if(!lastPlayerLocation||!playerLocation||lastPlayerLocation.left!==playerLocation.left||lastPlayerLocation.right!==playerLocation.right||lastPlayerLocation.top!==playerLocation.top||lastPlayerLocation.bottom!==playerLocation.bottom){lastPlayerLocation=playerLocation;for(var playerWidth=playerLocation.right-playerLocation.left,playerHeight=playerLocation.bottom-playerLocation.top,innerWidth=playerWidth/(1+SQRT_2),innerHeight=playerHeight/(1+SQRT_2),middleWidth=playerWidth/SQRT_2,middleHeight=playerHeight/SQRT_2,index=0;TOTAL_BEACONS>=index;index++){var offset=Math.round(5*Math.random()),left=playerLocation.left+document.body.scrollLeft,top=playerLocation.top+document.body.scrollTop;switch(index){case CONTROL:left=-1e5,top=-1e5;break;case CENTER:left+=(playerWidth-BEACON_SIZE)/2+offset,top+=(playerHeight-BEACON_SIZE)/2+offset;break;case OUTER_TOP_LEFT:left+=offset,top+=offset;break;case OUTER_TOP_RIGHT:top+=offset,left+=playerWidth-BEACON_SIZE-offset;break;case OUTER_BOTTOM_LEFT:left+=offset,top+=playerHeight-BEACON_SIZE-offset;break;case OUTER_BOTTOM_RIGHT:left+=playerWidth-BEACON_SIZE-offset,top+=playerHeight-BEACON_SIZE-offset;break;case MIDDLE_TOP_LEFT:left+=(playerWidth-middleWidth)/2+offset,top+=(playerHeight-middleHeight)/2+offset;break;case MIDDLE_TOP_RIGHT:left+=(playerWidth-middleWidth)/2+middleWidth-offset,top+=(playerHeight-middleHeight)/2+offset;break;case MIDDLE_BOTTOM_LEFT:left+=(playerWidth-middleWidth)/2+offset,top+=(playerHeight-middleHeight)/2+middleHeight-offset;break;case MIDDLE_BOTTOM_RIGHT:left+=(playerWidth-middleWidth)/2+middleWidth-offset,top+=(playerHeight-middleHeight)/2+middleHeight-offset;break;case INNER_TOP_LEFT:left+=(playerWidth-innerWidth)/2+offset,top+=(playerHeight-innerHeight)/2+offset;break;case INNER_TOP_RIGHT:left+=(playerWidth-innerWidth)/2+innerWidth-offset,top+=(playerHeight-innerHeight)/2+offset;break;case INNER_BOTTOM_LEFT:left+=(playerWidth-innerWidth)/2+offset,top+=(playerHeight-innerHeight)/2+innerHeight-offset;break;case INNER_BOTTOM_RIGHT:left+=(playerWidth-innerWidth)/2+innerWidth-offset,top+=(playerHeight-innerHeight)/2+innerHeight-offset}index>=MIDDLE_TOP_LEFT&&(left-=BEACON_SIZE/2,top-=BEACON_SIZE/2),left=Math.round(left),top=Math.round(top);var swfContainer=getBeaconContainer(index);swfContainer.style.left=left+{QQ}px{QQ},swfContainer.style.top=top+{QQ}px{QQ}}}}},isOnScreen=function(element){if(!element)return!1;var screenWidth=Math.max(document.body.clientWidth,window.innerWidth),screenHeight=Math.max(document.body.clientHeight,window.innerHeight),objRect=element.getClientRects()[0];return objRect.top<screenHeight&&objRect.bottom>0&&objRect.left<screenWidth&&objRect.right>0},getBeacon=function(index){return getBeaconFunc(index)}.memoize(),getFlashBeacon=function(index){return document.getElementById({QQ}OVVBeacon_{QQ}+index+{QQ}_{QQ}+id)},getFrameBeacon=function(index){var frame=document.getElementById({QQ}OVVFrame_{QQ}+id+{QQ}_{QQ}+index),contentWindow=null;return frame&&(contentWindow=frame.contentWindow),contentWindow},getBeaconContainer=function(index){return getBeaconContainerFunc(index)}.memoize(),getFlashBeaconContainer=function(index){return document.getElementById({QQ}OVVBeaconContainer_{QQ}+index+{QQ}_{QQ}+id)},getFrameBeaconContainer=function(index){return document.getElementById({QQ}OVVFrame_{QQ}+id+{QQ}_{QQ}+index)},findPlayer=function(){for(var embeds=document.getElementsByTagName({QQ}embed{QQ}),i=0;i<embeds.length;i++)if(embeds[i][id]||embeds[i][{QQ}onJsReady{QQ}+id])return embeds[i];for(var objs=document.getElementsByTagName({QQ}object{QQ}),i=0;i<objs.length;i++)if(objs[i][id]||objs[i][{QQ}onJsReady{QQ}+id])return objs[i];return document.getElementById(id)},isInFocus=function(){return({QQ}undefined{QQ}===document.hidden||document.hidden!==!0)&&(!!$ovv.IN_XD_IFRAME||(!window.top.document.hasFocus||window.top.document.hasFocus()))};player=findPlayer(),console.log({QQ}ID : {QQ},id),console.log({QQ}PLAYER : {QQ},player,player.id),$ovv.intersectionObserverSupported?(intersectionObserverMonitor=new OVVIntersectionObserverViewabilityMonitor,player&&(intersectionObserverMonitor.beginMonitoring(player),player[{QQ}onJsReady{QQ}+uid]&&setTimeout(function(){player[{QQ}onJsReady{QQ}+uid]()},5))):0==$ovv.geometrySupported||$ovv.DEBUG?$ovv.browser.ID===$ovv.browserIDEnum.Firefox?(getBeaconFunc=getFrameBeacon,getBeaconContainerFunc=getFrameBeaconContainer,createFrameBeacons.bind(this)()):(getBeaconFunc=getFlashBeacon,getBeaconContainerFunc=getFlashBeaconContainer,createBeacons.bind(this)({QQ}http://playtime.tubemogul.com/flash/OVVBeacon.swf{QQ})):player&&player[{QQ}onJsReady{QQ}+uid]&&setTimeout(function(){player[{QQ}onJsReady{QQ}+uid]()},5)}function OVVGeometryViewabilityCalculator(){this.getViewabilityState=function(element,contextWindow){var viewablePercentage,minViewPortSize=getMinViewPortSize();if(minViewPortSize.area==1/0)return{error:{QQ}Failed to determine viewport{QQ}};var assetRect=element.getBoundingClientRect(),playerArea=assetRect.width*assetRect.height;if(minViewPortSize.area/playerArea<.5)viewablePercentage=Math.floor(100*minViewPortSize.area/playerArea);else{var viewPortSize=$ovv.getViewPortSize(window.top),visibleAssetSize=getAssetVisibleDimension(element,contextWindow);visibleAssetSize.bottom>viewPortSize.height&&(visibleAssetSize.height-=visibleAssetSize.bottom-viewPortSize.height),visibleAssetSize.top<0&&(visibleAssetSize.height+=visibleAssetSize.top),visibleAssetSize.left<0&&(visibleAssetSize.width+=visibleAssetSize.left),visibleAssetSize.right>viewPortSize.width&&(visibleAssetSize.width-=visibleAssetSize.right-viewPortSize.width),viewablePercentage=Math.floor(100*(visibleAssetSize.width*visibleAssetSize.height)/playerArea)}return{clientWidth:viewPortSize.width,clientHeight:viewPortSize.height,objTop:assetRect.top,objBottom:assetRect.bottom,objLeft:assetRect.left,objRight:assetRect.right,percentViewable:viewablePercentage}};var getMinViewPortSize=function(){for(var minViewPortSize=$ovv.getViewPortSize(window),minViewPortArea=minViewPortSize.area,currentWindow=window;currentWindow!=window.top;)currentWindow=currentWindow.parent,viewPortSize=$ovv.getViewPortSize(currentWindow),viewPortSize.area<minViewPortArea&&(minViewPortArea=viewPortSize.area,minViewPortSize=viewPortSize);return minViewPortSize},getAssetVisibleDimension=function(element,contextWindow){var currWindow=contextWindow,parentWindow=contextWindow.parent,resultDimension={width:0,height:0,left:0,right:0,top:0,bottom:0};if(element){var elementRect=getPositionRelativeToViewPort(element,contextWindow);if(elementRect.width=elementRect.right-elementRect.left,elementRect.height=elementRect.bottom-elementRect.top,resultDimension=elementRect,currWindow!=parentWindow){var parentDimension=getAssetVisibleDimension(currWindow.frameElement,parentWindow);parentDimension.bottom<resultDimension.bottom&&(parentDimension.bottom<resultDimension.top&&(resultDimension.top=parentDimension.bottom),resultDimension.bottom=parentDimension.bottom),parentDimension.right<resultDimension.right&&(parentDimension.right<resultDimension.left&&(resultDimension.left=parentDimension.right),resultDimension.right=parentDimension.right),resultDimension.width=resultDimension.right-resultDimension.left,resultDimension.height=resultDimension.bottom-resultDimension.top}}return resultDimension},getPositionRelativeToViewPort=function(element,contextWindow){var currWindow=contextWindow,parentWindow=contextWindow.parent,resultPosition={left:0,right:0,top:0,bottom:0};if(element){var elementRect=element.getBoundingClientRect();currWindow!=parentWindow&&(resultPosition=getPositionRelativeToViewPort(currWindow.frameElement,parentWindow)),resultPosition={left:elementRect.left+resultPosition.left,right:elementRect.right+resultPosition.left,top:elementRect.top+resultPosition.top,bottom:elementRect.bottom+resultPosition.top}}return resultPosition}}function OVVIntersectionObserverViewabilityMonitor(){function thresholdCallback(entries){entries&&entries.length&&{QQ}undefined{QQ}!==entries[0].intersectionRatio&&(_percentVieawable=100*entries[0].intersectionRatio)}var observer,_percentVieawable=0,thresholds=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];$ovv.intersectionObserverSupported&&(observer=new IntersectionObserver(thresholdCallback,{threshold:thresholds})),Object.defineProperty(this,{QQ}percentViewable{QQ},{get:function(){return _percentVieawable}}),this.beginMonitoring=function(playerElement){playerElement&&observer.observe(playerElement)}}OVVCheck.UNMEASURABLE={QQ}unmeasurable{QQ},OVVCheck.VIEWABLE={QQ}viewable{QQ},OVVCheck.UNVIEWABLE={QQ}unviewable{QQ},OVVCheck.NOT_READY={QQ}not_ready{QQ},OVVCheck.BEACON={QQ}beacon{QQ},OVVCheck.GEOMETRY={QQ}geometry{QQ},OVVCheck.INTERSECTIONOBSERVER={QQ}intersectionobserver{QQ},OVVCheck.CSS_INVISIBILITY={QQ}css_invisibility{QQ},OVVCheck.DOM_OBSCURING={QQ}dom_obscuring{QQ},Function.prototype.memoized=function(key){return this._cacheValue=this._cacheValue||{},void 0!==this._cacheValue[key]?this._cacheValue[key]:this._cacheValue[key]=this.apply(this,arguments)},Function.prototype.memoize=function(){var fn=this;return function(){return fn.memoized.apply(fn,arguments)}};var newOVV=new OVV;window.$ovv=window.$ovv||newOVV;for(var i in newOVV)$ovv.hasOwnProperty(i)||($ovv[i]=newOVV[i]);window.$ovv.addAsset(new OVVAsset({QQ}OVVID{QQ},{geometryViewabilityCalculator:new OVVGeometryViewabilityCalculator})),console.log({QQ}OVVAsset Created{QQ});".replace(/\{Q\}/g,"'").replace(/\{QQ\}/g,'"').replace(/OVVID/g,id).replace(/INTERVAL/g,POLL_INTERVAL).replace(/OVVBUILDVERSION/g,BUILD_VERSION).replace(/OVVRELEASEVERSION/g,OVV_VERSION).replace(/MIN_VIEW_AREA_PC/g,MIN_VIEW_AREA_PC);if(_flashVersion>9){ovv_js=ovv_js.replace(/BEACON_SWF_URL/g,BEACON_SWF)}eval(ovv_js)};function ovvJsReady(){_pollIntervalId=setInterval(onIntervalCheck,POLL_INTERVAL)}return{prepareOVV:prepareOVV,checkViewability:checkViewability,intervalsInView:intervalsInView}};if(!viewabilityDisabled){var ovv_impression_handler=function(results){var url=TM.Embed.getVimpURL(results);TM.Util.loadImage(url)};TM.vfd=new TM.VFD(TM.Embed.getDivId(),ovv_impression_handler,TM.Util.flashDetect());TM.vfd.prepareOVV()}}catch(e){tm_log(e.toString())}};